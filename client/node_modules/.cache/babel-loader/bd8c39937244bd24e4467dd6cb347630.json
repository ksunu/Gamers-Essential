{"ast":null,"code":"var _jsxFileName = \"/Users/ksunu/Desktop/bootcamp-webmad-0620/lab/week8/Gamers-Essential/client/src/components/App.js\";\nimport React, { Component } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\nimport AuthService from './../service/AuthService';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport Navigation from './ui/Navbar';\nimport Message from './ui/CustomToast';\nimport CoastersList from './coasters/Coaster-list/';\nimport CoasterDetail from './coasters/Coaster-detail/';\nimport SignupForm from './auth/Signup-form';\nimport LoginForm from './auth/Login-form';\nimport ProfilePage from './pages/profile';\nimport IndexPage from './pages/index';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.setTheUser = user => this.setState({\n      loggedInUser: user\n    }, () => console.log(\"El estado de App ha cambiado:\", this.state));\n\n    this.fetchUser = () => {\n      this.AuthService.isLoggedIn().then(response => this.state.loggedInUser === null && this.setState({\n        loggedInUser: response.data\n      })).catch(err => console.log({\n        err\n      }));\n    };\n\n    this.handleToast = (visible, text = '') => {\n      let toastCopy = { ...this.state.toast\n      };\n      toastCopy = {\n        visible,\n        text\n      };\n      this.setState({\n        toast: toastCopy\n      });\n    };\n\n    this.state = {\n      loggedInUser: null,\n      toast: {\n        visible: false,\n        text: ''\n      }\n    };\n    this.AuthService = new AuthService();\n  }\n\n  render() {\n    this.fetchUser();\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navigation, {\n      setTheUser: this.setTheUser,\n      loggedInUser: this.state.loggedInUser,\n      handleToast: this.handleToast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(IndexPage, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 47\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/profile\",\n      render: () => this.state.loggedInUser ? /*#__PURE__*/React.createElement(ProfilePage, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 39\n        }\n      }) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/signup\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 96\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/coasters\",\n      render: () => /*#__PURE__*/React.createElement(CoastersList, {\n        loggedInUser: this.state.loggedInUser,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 55\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/coasters/:coaster_id\",\n      render: props => /*#__PURE__*/React.createElement(CoasterDetail, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 64\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/signup\",\n      render: props => /*#__PURE__*/React.createElement(SignupForm, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        handleToast: this.handleToast,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 50\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/login\",\n      render: props => /*#__PURE__*/React.createElement(LoginForm, Object.assign({}, props, {\n        setTheUser: this.setTheUser,\n        handleToast: this.handleToast,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 49\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Message, Object.assign({}, this.state.toast, {\n      handleToast: this.handleToast,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/ksunu/Desktop/bootcamp-webmad-0620/lab/week8/Gamers-Essential/client/src/components/App.js"],"names":["React","Component","AuthService","Switch","Route","Redirect","Navigation","Message","CoastersList","CoasterDetail","SignupForm","LoginForm","ProfilePage","IndexPage","App","constructor","setTheUser","user","setState","loggedInUser","console","log","state","fetchUser","isLoggedIn","then","response","data","catch","err","handleToast","visible","text","toastCopy","toast","render","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport './App.css'\n\nimport AuthService from './../service/AuthService'\n\nimport { Switch, Route, Redirect } from 'react-router-dom'\n\nimport Navigation from './ui/Navbar'\nimport Message from './ui/CustomToast'\n\nimport CoastersList from './coasters/Coaster-list/'\nimport CoasterDetail from './coasters/Coaster-detail/'\nimport SignupForm from './auth/Signup-form'\nimport LoginForm from './auth/Login-form'\nimport ProfilePage from './pages/profile'\nimport IndexPage from './pages/index'\n\n\nclass App extends Component {\n\n  constructor() {\n    super()\n    this.state = {\n      loggedInUser: null,\n      toast: {\n        visible: false,\n        text: ''\n      }\n    }\n    this.AuthService = new AuthService()\n  }\n\n  setTheUser = user => this.setState({ loggedInUser: user }, () => console.log(\"El estado de App ha cambiado:\", this.state))\n\n  fetchUser = () => {\n    this.AuthService\n      .isLoggedIn()\n      .then(response => this.state.loggedInUser === null && this.setState({ loggedInUser: response.data }))\n      .catch(err => console.log({ err }))\n  }\n\n  handleToast = (visible, text = '') => {\n    let toastCopy = { ...this.state.toast }\n    toastCopy = { visible, text }\n    this.setState({ toast: toastCopy })\n  }\n\n  render() {\n\n    this.fetchUser()\n\n    return (\n\n      <>\n\n        <Navigation setTheUser={this.setTheUser} loggedInUser={this.state.loggedInUser} handleToast={this.handleToast} />\n\n        <Switch>\n          <Route exact path=\"/\" render={() => <IndexPage />} />\n\n          <Route path=\"/profile\" render={() =>\n            this.state.loggedInUser ? <ProfilePage loggedInUser={this.state.loggedInUser} /> : <Redirect to='/signup' />}\n          />\n\n          <Route exact path=\"/coasters\" render={() => <CoastersList loggedInUser={this.state.loggedInUser} />} />\n          <Route path=\"/coasters/:coaster_id\" render={props => <CoasterDetail {...props} />} />\n          <Route path=\"/signup\" render={props => <SignupForm {...props} setTheUser={this.setTheUser} handleToast={this.handleToast} />} />\n          <Route path=\"/login\" render={props => <LoginForm {...props} setTheUser={this.setTheUser} handleToast={this.handleToast} />} />\n        </Switch>\n\n        <Message {...this.state.toast} handleToast={this.handleToast} />\n\n      </>\n\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}