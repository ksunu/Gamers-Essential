(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,t,a){e.exports=a.p+"static/media/bkg.f6475bb5.jpg"},107:function(e,t,a){},131:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(31),o=a.n(r),c=a(37),s=a(6),i=a(11),m=a(13),u=a(12),d=(a(104),a(105),a(106),a(16)),h=a(9),p=(a(107),a(8)),g=a(15),E=a(10),v=a(4),f=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null,l.a.createElement("h1",null,"Games"),l.a.createElement(p.a,{className:"game-main-btn"},l.a.createElement(E.a,{md:4,className:"btn"},l.a.createElement(h.b,{to:"games/Allgames"},l.a.createElement("img",{src:"https://ph-files.imgix.net/4fcdb9d7-dfbe-40ed-b0cf-5d00721cd1cb?auto=format&auto=compress&codec=mozjpeg&cs=strip",alt:"allgames"})," ",l.a.createElement("br",null),l.a.createElement(v.a,{className:"btn-1"},l.a.createElement("span",null,"All Games")))),l.a.createElement(E.a,{md:4,className:"btn"},l.a.createElement(h.b,{to:"games/genres"},l.a.createElement("img",{src:"https://gamegenre.files.wordpress.com/2012/05/cover-by-dyvanno.jpg?w=510&h=237",atl:"genres"})," ",l.a.createElement("br",null),l.a.createElement(v.a,{className:"btn-2"},l.a.createElement("span",null,"By Genre")))),l.a.createElement(E.a,{md:4,className:"btn"},l.a.createElement(h.b,{to:"games/platforms"},l.a.createElement("img",{src:"https://media.gizmodo.co.uk/wp-content/uploads/2018/02/console_colours-620x349.png",alt:"platforms"})," ",l.a.createElement("br",null),l.a.createElement(v.a,{className:"btn-3"},l.a.createElement("span",null,"By Platform")))))))},b=a(26),y=a.n(b),C=function e(){var t=this;Object(s.a)(this,e),this.getAllGames=function(e){return t.service.get("/games?page=".concat(e))},this.searchGames=function(e){return t.service.get("/games?search=".concat(e,"&page_size=1"))},this.getOneGame=function(e){return t.service.get("/games/".concat(e))},this.getOneGameScreensShots=function(e){return t.service.get("/games/".concat(e,"/screenshots"))},this.getAllGamesByGenres=function(e,a){return t.service.get("/games?genres=".concat(e,"&page=").concat(a))},this.getAllGamesbyPlatform=function(e,a){return t.service.get("/games?platforms=".concat(e,"&page=").concat(a))},this.service=y.a.create({baseURL:"https://api.rawg.io/api"})},S=a(63),k=a.n(S),O=(a(45),function(e){var t=e.id,a=e.name,n=e.background_image;e.rating;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{md:3,sm:4,xs:5},l.a.createElement("div",{className:"game-card"},l.a.createElement(h.b,{to:"/games/".concat(t),style:{textDecoration:"none"}},l.a.createElement("img",{src:n||l.a.createElement(k.a,{height:200}),alt:a}),l.a.createElement("p",null,a||l.a.createElement(k.a,null))))))}),N=a(20),w=a(3),D=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleInputChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(N.a)({},n,l))},e.handleFormSubmit=function(t){t.preventDefault(),e.props.handleForm(e.state.search),e.refs.btn.setAttribute("disabled","disabled")},e.state={search:""},e.gameService=new C,e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{ref:"btn",onSubmit:this.handleFormSubmit,className:"search-area"},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Search your favourite game"),l.a.createElement(p.a,null,l.a.createElement(w.a.Control,{onChange:this.handleInputChange,name:"search",value:this.state.search,type:"text",placeholder:"Type here...",className:"search-form"}),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit")))))}}]),a}(n.Component),j=(a(131),function(){return l.a.createElement("div",{className:"spinner"}," ")}),U=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){return e.updateGameList()},e.updateGameList=function(){e.handleGameList()},e.handleGameList=function(){e.GameService.getAllGames(e.state.count).then((function(t){return e.setState({games:t.data.results})})).catch((function(e){return console.log(e)}))},e.handleNextPage=function(){e.setState({count:++e.state.count,games:void 0}),e.updateGameList()},e.handlePreviousPage=function(){e.setState({count:--e.state.count,games:void 0}),e.updateGameList()},e.handleForm=function(t){e.setState({searchInput:t}),e.state.searchInput&&e.GameService.searchGames(e.state.searchInput).then((function(t){return e.setState({searchResults:t.data.results})}))},e.state={games:void 0,count:1,searchInput:"",searchResults:""},e.GameService=new C,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,!this.state.games&&l.a.createElement(j,null),l.a.createElement(h.b,{to:"/games"},l.a.createElement(v.a,{variant:"dark",type:"submit",className:"btn-default"},"\u27f5")),this.state.count>1&&l.a.createElement(v.a,{onClick:this.handlePreviousPage,className:"left"},"<"),l.a.createElement(v.a,{onClick:this.handleNextPage,className:"right"},">"),l.a.createElement(g.a,null,l.a.createElement("h1",null,"All Games"),l.a.createElement(p.a,null,l.a.createElement(E.a,{md:6},l.a.createElement(D,{handleForm:function(t){return e.handleForm(t)}})),l.a.createElement(E.a,{md:6},this.state.searchResults&&this.state.searchResults.map((function(e){return l.a.createElement(O,Object.assign({key:e.id},e))})))),l.a.createElement("div",{className:"page-count"},l.a.createElement("p",null,"Page: ",this.state.count," ")),l.a.createElement(p.a,null,this.state.games&&this.state.games.map((function(e){return l.a.createElement(O,Object.assign({key:e.id},e))})))))}}]),a}(n.Component),x=a(96),I=a.n(x),L=a(97),G=function e(){var t=this;Object(s.a)(this,e),this.addFavCommunity=function(e,a){return t.service.post("/addFavCommunity/".concat(e),a)},this.deleteFavCommunity=function(e,a){return t.service.post("/deleteFavCommunity/".concat(e),a)},this.addFavEvent=function(e,a){return t.service.post("/addFavEvent/".concat(e),a)},this.deleteFavEvent=function(e,a){return t.service.post("/deleteFavEvent/".concat(e),a)},this.addFavGame=function(e,a){return t.service.post("/addFavGame/".concat(e),a)},this.deleteFavGame=function(e,a){return t.service.post("/deleteFavGame/".concat(e),a)},this.getAllProfile=function(e){return t.service.get("/getAllProfile/".concat(e))},this.updateAvatar=function(e,a){return t.service.post("/editAvatar/".concat(e),a)},this.service=y.a.create({baseURL:"".concat("https://gamers-essential2.herokuapp.com/api","/profile")})},F=(a(153),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.props.match.params.id;n.gameService.getOneGame(e).then((function(e){return n.setState({gameDetails:e.data})})).catch((function(e){return console.log(e)})),n.gameService.getOneGameScreensShots(e).then((function(e){return n.setState({screenShots:e.data})}))},n.handleFav=function(){n.profileService.addFavGame(n.props.match.params.id,n.props.loggedInUser).then((function(e){return console.log(e)}))},n.handleDeleteFav=function(){n.profileService.deleteFavGame(n.props.match.params.id,n.props.loggedInUser).then((function(e){return console.log(e)}))},n.state={gameDetails:"",screenShots:""},n.gameService=new C,n.profileService=new G,n}return Object(i.a)(a,[{key:"render",value:function(){return console.log(this.state.gameDetails.clip),l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,{className:"btn-default",to:"/games",style:{textDecoration:"none"}},"\u27f5"),!this.state.gameDetails&&this.state.screenShots?l.a.createElement(j,null):l.a.createElement(g.a,{as:"main",className:"detail-container"},l.a.createElement("h1",null,this.state.gameDetails.name),l.a.createElement("div",{className:"fav-btns"},l.a.createElement(v.a,{className:"btn btn-dark btn-md back-btn-games",onClick:this.handleFav},"Add to favourites"),l.a.createElement("span",{className:"btn-fav-2"},l.a.createElement(v.a,{className:"btn btn-dark btn-md back-btn-games",onClick:this.handleDeleteFav},"Remove from favourites"))),l.a.createElement(p.a,{className:"image-detail"},l.a.createElement(E.a,null,l.a.createElement(L.Carousel,{autoPlay:!0,interval:"3000",transitionTime:"3000",showArrows:!0},this.state.screenShots&&this.state.screenShots.results.map((function(e){return l.a.createElement("div",null,l.a.createElement("img",{src:e.image,alt:e.id}))}))))),l.a.createElement(p.a,{className:"game-detail mb-5"},l.a.createElement("p",null,this.state.gameDetails.description_raw)),l.a.createElement(p.a,{className:" mb-5"},l.a.createElement(E.a,{className:"video-player",md:12},this.state.gameDetails&&this.state.gameDetails.clip?l.a.createElement(I.a,{url:this.state.gameDetails&&this.state.gameDetails.clip.clips.full,playing:!0,volume:0,loop:!0,controls:!0}):l.a.createElement("h1",null,"No video available"))),l.a.createElement(p.a,{className:" mb-5"},l.a.createElement(E.a,{className:"game-info",md:6},l.a.createElement("p",null,"Release Date:  ",this.state.gameDetails.released),l.a.createElement("p",null,"Overall Rating Rawg:  ",this.state.gameDetails.rating),l.a.createElement("p",null," Metacritic Score:  ",this.state.gameDetails.metacritic)),l.a.createElement(E.a,{className:"game-info",md:6},l.a.createElement("p",null,l.a.createElement("b",null,"Available Platforms:")," ",this.state.gameDetails&&this.state.gameDetails.platforms.map((function(e){return l.a.createElement("span",null,e.platform.name,", ")})))))))}}]),a}(n.Component)),T=(a(84),function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null,l.a.createElement(E.a,{md:12},l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("action")},className:"genre-search-btn"},"Action"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("adventure")},className:"genre-search-btn"},"Adventure"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("arcade")},className:"genre-search-btn"},"Arcade"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("board-games")},className:"genre-search-btn"},"Board Games"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("educational")},className:"genre-search-btn"},"Educational"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("family")},className:"genre-search-btn"},"Family"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("fighting")},className:"genre-search-btn"},"Fighting"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("indie")},className:"genre-search-btn"},"Indie"))),l.a.createElement(p.a,null,l.a.createElement(E.a,{md:12,sm:6},l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("massively-multiplayer")},className:"genre-search-btn"},"Multi-Player"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("platformer")},className:"genre-search-btn"},"Platformer"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("puzzle")},className:"genre-search-btn"},"Puzzle"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("role-playing-games-rpg")},className:"genre-search-btn"},"RPG"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("shooter")},className:"genre-search-btn"},"Shooter"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("simulation")},className:"genre-search-btn"},"Simulation"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("sports")},className:"genre-search-btn"},"Sports"),l.a.createElement(v.a,{onClick:function(){return e.handleButtonBar("strategy")},className:"genre-search-btn"},"Strategy"))))}),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){return e.updateGameList()},e.updateGameList=function(){e.GameService.getAllGamesByGenres(e.state.genreCategory,e.state.count).then((function(t){return e.setState({genreGames:t.data})})).catch((function(e){return console.log(e)}))},e.handleButtonBar=function(t){e.setState({genreCategory:t}),e.updateGameList()},e.handleNextPage=function(){e.setState({count:++e.state.count,genreGames:void 0}),e.updateGameList()},e.handlePreviousPage=function(){e.setState({count:--e.state.count,genreGames:void 0}),e.updateGameList()},e.state={genreCategory:"indie",genreGames:void 0,count:1},e.GameService=new C,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,!this.state.genreGames&&l.a.createElement(j,null),l.a.createElement(h.b,{to:"/games"},l.a.createElement(v.a,{className:"btn-default",variant:"dark",type:"submit"},"\u27f5")),this.state.count>1&&l.a.createElement(v.a,{onClick:this.handlePreviousPage,className:"left"},"<"),l.a.createElement(v.a,{onClick:this.handleNextPage,className:"right"},">"),l.a.createElement(g.a,null,l.a.createElement(T,{handleButtonBar:function(t){return e.handleButtonBar(t)}}),l.a.createElement("h1",null,"Genre: ",this.state.genreCategory),l.a.createElement("div",{className:"page-count"},l.a.createElement("p",null,"Page: ",this.state.count," ")),l.a.createElement(p.a,null,this.state.genreGames&&this.state.genreGames.results.map((function(e){return l.a.createElement(O,Object.assign({key:e.id},e))})))))}}]),a}(n.Component),P=(a(154),a(18)),_=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:"platform-bar"},l.a.createElement(P.a,null,l.a.createElement(P.a.Link,{onClick:function(){return e.handleButtonBar(4)},exact:!0,activeStyle:{color:"white"},className:"pc"},l.a.createElement("img",{src:"https://www.betaarchive.com/wiki/images/9/94/Pc-logo-png.png",alt:"pc"})," "),l.a.createElement(P.a.Link,{onClick:function(){return e.handleButtonBar(18)},className:"ps4"},l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/PlayStation_4_-_Logo.svg/640px-PlayStation_4_-_Logo.svg.png",alt:"ps4"})),l.a.createElement(P.a.Link,{onClick:function(){return e.handleButtonBar(187)},className:"ps5"},l.a.createElement("img",{src:"https://www.logo.wine/a/logo/PlayStation/PlayStation-PS5-Logo.wine.svg",alt:"ps5"})),l.a.createElement(P.a.Link,{onClick:function(){return e.handleButtonBar(1)},className:"xbox-one"},l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/X_Box_One_logo.svg/1024px-X_Box_One_logo.svg.png",alt:"xboxone"})),l.a.createElement(P.a.Link,{onClick:function(){return e.handleButtonBar(186)},className:"xbox-x"},l.a.createElement("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Xbox_Series_X_Logo.svg.png/250px-Xbox_Series_X_Logo.svg.png",alt:"xboxx"})),l.a.createElement(P.a.Link,{onClick:function(){return e.handleButtonBar(7)},className:"switch"},l.a.createElement("img",{src:"http://www.poi-game.com/img/platforms-switch.png",alt:"switch"})))))},M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){return e.updateGameList()},e.updateGameList=function(){e.GameService.getAllGamesbyPlatform(e.state.platformCategory,e.state.count).then((function(t){return e.setState({gamesByPlatform:t.data})})).catch((function(e){return console.log(e)}))},e.handleButtonBar=function(t){e.setState({platformCategory:t,count:1,gamesByPlatform:void 0}),e.updateGameList()},e.handleNextPage=function(){e.setState({count:++e.state.count,gamesByPlatform:void 0}),e.updateGameList()},e.handlePreviousPage=function(){e.setState({count:--e.state.count,gamesByPlatform:void 0}),e.updateGameList()},e.state={platformCategory:4,gamesByPlatform:void 0,count:1},e.GameService=new C,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,!this.state.gamesByPlatform&&l.a.createElement(j,null),!this.state.platformCategory&&l.a.createElement(j,null),l.a.createElement(h.b,{to:"/games"},l.a.createElement(v.a,{variant:"dark",type:"submit",className:"btn-default"},"\u27f5")),l.a.createElement(g.a,null,l.a.createElement("h1",null,"Platforms"),l.a.createElement(_,{handleButtonBar:function(t){return e.handleButtonBar(t)}}),this.state.count>1&&l.a.createElement(v.a,{onClick:this.handlePreviousPage,className:"left"},"<"),l.a.createElement(v.a,{onClick:this.handleNextPage,className:"right"},">"),l.a.createElement("div",{className:"page-count"},l.a.createElement("p",null,"Page: ",this.state.count," ")),l.a.createElement(p.a,null,this.state.gamesByPlatform&&this.state.gamesByPlatform.results.map((function(e){return l.a.createElement(O,Object.assign({key:e.id},e))})))))}}]),a}(n.Component),A=a(54),R=function e(){var t=this;Object(s.a)(this,e),this.getAllCommunity=function(){return t.service.get("/getAllCommunity")},this.getOneCommunity=function(e){return t.service.get("/getOneCommunity/".concat(e))},this.createCommunity=function(e){return t.service.post("/newCommunity",e)},this.editCommunity=function(e,a){return t.service.put("/editCommunity/".concat(e),a)},this.deleteCommunity=function(e){return t.service.delete("/deleteCommunity/".concat(e))},this.createComment=function(e,a){return t.service.post("/newComment/".concat(e),a)},this.deleteComment=function(e){return t.service.post("/deleteComment/".concat(e))},this.service=y.a.create({baseURL:"".concat("https://gamers-essential2.herokuapp.com/api","/community"),withCredentials:!0})},z=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"community-card"},l.a.createElement(p.a,null,l.a.createElement(h.b,{to:"/community/".concat(e.elm._id)},l.a.createElement("img",{src:e.elm.imageProd,alt:e.elm._id}))),l.a.createElement(p.a,null,l.a.createElement(h.b,{to:"/community/".concat(e.elm._id),style:{textDecoration:"none"}},l.a.createElement("div",{className:"community-card-body"},l.a.createElement("h3",null,e.elm.title),l.a.createElement("p",null,e.elm.brief),l.a.createElement("ul",{className:"community-card-text"},l.a.createElement("li",null,"Genre: ",e.elm.genre),l.a.createElement("li",null,"Owner: ",e.elm.owner.username))))),l.a.createElement(p.a,{className:"text-center"},l.a.createElement(E.a,null,e.loggedInUser._id==e.elm.owner._id&&l.a.createElement(v.a,{variant:"dark",size:"sm",className:"btn-default-general",onClick:function(){return e.handleModal(!0,e.elm)}},"Edit")),l.a.createElement(E.a,null,e.loggedInUser._id==e.elm.owner._id&&l.a.createElement(v.a,{variant:"dark",size:"sm",className:"btn-default-general",onClick:function(){return e.handleDelete(e.elm._id)}},"Delete")))))},H=function e(){var t=this;Object(s.a)(this,e),this.handleUploadCommunity=function(e){return t.service.post("/uploadCommunity",e)},this.handleUploadEvent=function(e){return t.service.post("/uploadEvent",e)},this.handleUploadAvatar=function(e){return t.service.post("/uploadProfile",e)},this.service=y.a.create({baseURL:"".concat("https://gamers-essential2.herokuapp.com/api","/files"),withCredentials:!0})},X=(a(85),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(N.a)({},a,l))},n.handleFileUpload=function(e){var t=new FormData;t.append("imageProd",e.target.files[0]),n.filesService.handleUploadCommunity(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),n.setState({imageProd:e.data.secure_url}),n.props.handleToast(!0,"Uploaded done")})).catch((function(e){return console.log(e)}))},n.handleFormSubmit=function(e){e.preventDefault(),n.state.imageProd&&n.communityService.createCommunity(n.state).then((function(){return n.props.handleCommunitySubmit()})).catch((function(e){return console.log(e)}))},n.handleUpdateSubmit=function(e){e.preventDefault(),n.state.imageProd&&n.communityService.editCommunity(n.props.id._id,n.state).then((function(){return n.props.handleCommunitySubmit()})).catch((function(e){return console.log(e)}))},n.state={title:n.props.id?n.props.id.title:"",brief:n.props.id?n.props.id.brief:"",description:n.props.id?n.props.id.description:"",genre:n.props.id?n.props.id.genre:"",imageProd:n.props.id?n.props.id.imageProd:""},n.communityService=new R,n.filesService=new H,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form"},l.a.createElement("h3",null,this.props.id?"Modify game":"Create new game"),l.a.createElement(w.a,{onSubmit:this.props.id?this.handleUpdateSubmit:this.handleFormSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Title"),l.a.createElement(w.a.Control,{className:"form-control",onChange:this.handleInputChange,name:"title",value:this.state.title,size:"lg",type:"text",placeholder:"Your game title"})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Brief Description"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,as:"textarea",name:"brief",value:this.state.brief,size:"lg",type:"text",placeholder:"Brief description of your game"}),l.a.createElement("p",{style:{color:"lightgrey",fontSize:16}},"Max. 140 characters")),l.a.createElement("br",null),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Description"),l.a.createElement(w.a.Control,{style:{height:150},onChange:this.handleInputChange,as:"textarea",name:"description",value:this.state.description,type:"text",placeholder:"Lorem ipsum dolor sit amet...."})),l.a.createElement("br",null),l.a.createElement(p.a,null,l.a.createElement(E.a,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Image: jpg or png *ONLY*"),l.a.createElement(w.a.Control,{name:"imagProd",type:"file",onChange:this.handleFileUpload}))),l.a.createElement(E.a,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Genre"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,as:"select",name:"genre",value:this.state.genre,size:"sm",type:"text",placeholder:"Small text"},l.a.createElement("option",{value:"ACTION"},"Action"),l.a.createElement("option",{value:"SHOOTER"},"Shooter"),l.a.createElement("option",{value:"RPG"},"Rpg"),l.a.createElement("option",{value:"PLATFORMS"},"Platforms"),l.a.createElement("option",{value:"HORROR"},"Horror"),l.a.createElement("option",{value:"ADVENTURE"},"Adventure"),l.a.createElement("option",{value:"STRATEGY"},"Strategy"),l.a.createElement("option",{value:"FIGHTING"},"Fighting"),l.a.createElement("option",{value:"SPORTS"},"Sports"))))),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit"))))}}]),a}(n.Component)),Y=(a(155),a(21)),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.updateCommunityList()},n.updateCommunityList=function(){n.communityService.getAllCommunity().then((function(e){return n.setState({community:e.data})})).catch((function(e){return console.log(e)}))},n.handleModal=function(e,t){n.setState({showModal:e}),n.setState({id:t})},n.handleCommunitySubmit=function(){n.handleModal(!1),n.updateCommunityList()},n.handleDelete=function(e){var t=Object(A.a)(n.state.community).filter((function(t){return t._id!==e}));n.setState({community:t}),n.communityService.deleteCommunity(e).then((function(e){return console.log(e)}))},n.state={community:[],id:""},n.communityService=new R,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{as:"main",className:"community-page"},l.a.createElement("h1",null,"Community"),this.props.loggedInUser&&l.a.createElement(h.b,{style:{textDecoration:"none"},onClick:function(){return e.handleModal(!0)},className:"btn-default-create"},"Create new"),l.a.createElement(p.a,{classname:"community-card-body"},this.state.community.map((function(t){return l.a.createElement(z,{elm:t,key:t._id,handleModal:e.handleModal,handleDelete:e.handleDelete,loggedInUser:e.props.loggedInUser})})))),l.a.createElement(Y.a,{dialogClassName:"modal-window",size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},l.a.createElement(Y.a.Body,{className:"modal-page"},this.state.id?null:l.a.createElement(X,{handleCommunitySubmit:this.handleCommunitySubmit,handleToast:this.props.handelToast}),this.state.id?l.a.createElement(X,{handleCommunitySubmit:this.handleCommunitySubmit,handleToast:this.props.handleToast,id:this.state.id}):null)))}}]),a}(n.Component),J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(N.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault(),n.communityService.createComment(n.props.id,n.state).then((function(e){return console.log(e)})).then(n.props.handleModal(!1)).then((function(){return n.props.handleCommunitySubmit()})).catch((function(e){return console.log(e)}))},n.state={comments:"",commentsUser:""},n.communityService=new R,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{onSubmit:this.handleFormSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,{style:{fontSize:30}},"User"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,name:"commentsUser",value:this.state.commentsUser,size:"lg",type:"text"}),l.a.createElement(w.a.Label,{style:{fontSize:30}},"Post your comment"),l.a.createElement(w.a.Control,{style:{height:200},onChange:this.handleInputChange,as:"textarea",name:"comments",value:this.state.comments,size:"lg",type:"text"}),l.a.createElement("p",{style:{color:"lightgrey",fontSize:16}},"Max. 140 characters"),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit "))))}}]),a}(n.Component),V=a(53),q=(a(156),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.updateCommunityList()},n.updateCommunityList=function(){var e=n.props.match.params.id;n.communityService.getOneCommunity(e).then((function(e){return n.setState({communityDetails:e.data})})).catch((function(e){return console.log(e)}))},n.handleCommunitySubmit=function(){n.updateCommunityList()},n.handleFav=function(){n.profileService.addFavCommunity(n.props.match.params.id,n.props.loggedInUser).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},n.handleDeleteFav=function(){n.profileService.deleteFavCommunity(n.props.match.params.id,n.props.loggedInUser).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},n.handleDeleteComment=function(){n.communityService.deleteComment(n.props.match.params.id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),n.updateCommunityList()},n.handleModal=function(e){n.setState({showModal:e})},n.state={communityDetails:"",showModal:!1},n.communityService=new R,n.profileService=new G,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,{style:{textDecoration:"none"},to:"/community"},l.a.createElement(v.a,{className:"btn-default"},"\u27f5")),l.a.createElement(g.a,{as:"span"},l.a.createElement("div",{className:"community-details-page"},l.a.createElement(p.a,null,this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:this.handleFav},"Add to Favourites"),this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:this.handleDeleteFav},"Delete from Favourites")),l.a.createElement(p.a,{className:"justify-content-center"},l.a.createElement("img",{src:this.state.communityDetails.imageProd,alt:this.state.communityDetails.title,className:"community-img"})),l.a.createElement("h1",null,this.state.communityDetails.title),l.a.createElement("p",null,l.a.createElement("b",null,"Description:")," ",this.state.communityDetails.description),l.a.createElement("p",null,l.a.createElement("b",null,"Genre:")," ",this.state.communityDetails.genre),l.a.createElement("hr",null),l.a.createElement(p.a,null,l.a.createElement(E.a,{md:5},l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:function(){return e.handleModal(!0)}},"Insert Comment"),this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:this.handleDeleteComment},"Delete comment")),l.a.createElement(E.a,{md:6},l.a.createElement(V.a,{striped:!0,bordered:!0,variant:"dark",className:"comments-table"},l.a.createElement("thead",null,l.a.createElement("th",null,"User"),l.a.createElement("th",null,"Comments")),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,this.state.communityDetails&&this.state.communityDetails.commentsUser.map((function(e){return l.a.createElement("p",null,e,":")}))),l.a.createElement("td",null,this.state.communityDetails&&this.state.communityDetails.comments.map((function(e){return l.a.createElement("p",null,e)}))))))))),l.a.createElement(Y.a,{dialogClassName:"modal-window",size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},l.a.createElement(Y.a.Body,{className:"modal-page"},l.a.createElement(J,{id:this.props.match.params.id,handleCommunitySubmit:this.handleCommunitySubmit,handleModal:function(){return e.handleModal()}})))))}}]),a}(n.Component)),K=function e(){var t=this;Object(s.a)(this,e),this.getAllEvent=function(){return t.service.get("/getAllEvent")},this.getOneEvent=function(e){return t.service.get("getOneEvent/".concat(e))},this.createEvent=function(e){return t.service.post("/newEvent",e)},this.editEvent=function(e,a){return t.service.put("/editEvent/".concat(e),a)},this.deleteEvent=function(e){return t.service.delete("/deleteEvent/".concat(e))},this.createComment=function(e,a){return t.service.post("/newComment/".concat(e),a)},this.deleteComment=function(e){return t.service.post("/deleteComment/".concat(e))},this.service=y.a.create({baseURL:"".concat("https://gamers-essential2.herokuapp.com/api","/event"),withCredentials:!0})},Z=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:"event-detail-card text-center"},l.a.createElement(E.a,{className:"event-detail-img",lg:3},l.a.createElement(h.b,{to:"/events/".concat(e.elm._id)},l.a.createElement("img",{src:e.elm.imageEvent,alt:e.elm._id}))),l.a.createElement(E.a,{lg:5},l.a.createElement(h.b,{to:"/events/".concat(e.elm._id),style:{textDecoration:"none",color:"white"}},l.a.createElement("h5",null,e.elm.title),l.a.createElement("p",null,e.elm.brief))),l.a.createElement(E.a,{clasName:"text-center",lg:4},l.a.createElement(h.b,{to:"/events/".concat(e.elm._id),style:{textDecoration:"none",color:"white"}},l.a.createElement("p",null,"Owner:",e.elm.owner.username),l.a.createElement("p",null,"Genre:",e.elm.genre),l.a.createElement("p",null,"Location:",e.elm.locationName),l.a.createElement("p",null,"Event Date:",new Date(e.elm.eventDate).toLocaleDateString())))),l.a.createElement(p.a,{className:"row justify-content-end"},e.loggedInUser._id==e.elm.owner._id&&l.a.createElement(v.a,{className:"btn btn-dark btn-sm",onClick:function(){return e.handleModal(!0,e.elm)},variant:"dark",size:"sm",style:{marginBottom:"20px"}},"Edit"),e.loggedInUser._id==e.elm.owner._id&&l.a.createElement(v.a,{className:"btn btn-dark btn-sm btn-card-2",onClick:function(){return e.handleDelete(e.elm._id)},variant:"dark",size:"sm",style:{marginBottom:"20px"}},"Delete")))},Q=a(56),$=a.n(Q),ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({city:e})},n.handleSelect=function(e){Object(Q.geocodeByAddress)(e).then((function(e){return Object(Q.getLatLng)(e[0])})).then((function(t){return n.setState(Object(c.a)(Object(c.a)({},n.state),{},{coordinates:t,city:e}))})).then((function(e){n.props.getData(n.state)})).catch((function(e){return console.error("Error",e)}))},n.state={city:"",coordinates:""},n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement($.a,{value:this.state.city,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:this.searchOptions},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,r=e.loading;return l.a.createElement("div",{className:"input-wrapper"},l.a.createElement("input",t({placeholder:"Write your address",className:"location-search-input"})),l.a.createElement("div",{className:"autocomplete-dropdown-container"},r&&l.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item";return l.a.createElement("div",n(e,{className:t}),l.a.createElement("span",null,e.description))}))))})))}}]),a}(l.a.Component),te=(a(161),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleFileUpload=function(e){var t=new FormData;t.append("imageEvent",e.target.files[0]),n.filesService.handleUploadEvent(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),n.setState({imageEvent:e.data.secure_url})})).catch((function(e){return console.log(e)}))},n.handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(N.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault(),n.eventService.createEvent(n.state).then((function(){return n.props.handleEventSubmit()})).catch((function(e){return console.log(e)}))},n.handleUpdateSubmit=function(e){e.preventDefault(),n.eventService.editEvent(n.props.id._id,n.state).then((function(){return n.props.handleEventSubmit()})).catch((function(e){return console.log(e)}))},n.getData=function(e){n.setState(Object(c.a)(Object(c.a)({},n.state),{},{loc:{city:e.city,coordinates:[e.coordinates.lat,e.coordinates.lng]}}))},n.state={title:n.props.id?n.props.id.title:"",brief:n.props.id?n.props.id.brief:"",description:n.props.id?n.props.id.description:"",genre:n.props.id?n.props.id.genre:"",imageEvent:n.props.id?n.props.id.imageEvent:"",locationName:n.props.id?n.props.id.locationName:"",eventDate:n.props.id?n.props.id.eventDate:"",loc:{city:"",coordinates:[]}},n.eventService=new K,n.filesService=new H,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"event-form"},l.a.createElement("h3",null,this.props.id?"Modify event":"Create new event"),l.a.createElement(w.a,{onSubmit:this.props.id?this.handleUpdateSubmit:this.handleFormSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Title"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,name:"title",value:this.state.title,size:"lg",type:"text",placeholder:"Your event title"})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Brief Description"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,as:"textarea",name:"brief",value:this.state.brief,size:"lg",type:"text",placeholder:"Brief description of your event"}),l.a.createElement("p",{style:{color:"lightgrey",fontSize:16}},"Max. 140 characters")),l.a.createElement("br",null),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Description"),l.a.createElement(w.a.Control,{style:{height:150},onChange:this.handleInputChange,as:"textarea",name:"description",value:this.state.description,type:"text",placeholder:"Lorem ipsum dolor sit amet...."})),l.a.createElement("br",null),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Event Date"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,name:"eventDate",value:this.state.eventDate,type:"date",placeholder:"Lorem ipsum dolor sit amet...."})),l.a.createElement("br",null),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Genre"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,as:"select",name:"genre",value:this.state.genre,size:"sm",type:"text",placeholder:"Small text"},l.a.createElement("option",{value:"ACTION"},"Action"),l.a.createElement("option",{value:"SHOOTER"},"Shooter"),l.a.createElement("option",{value:"RPG"},"Rpg"),l.a.createElement("option",{value:"PLATFORMS"},"Platforms"),l.a.createElement("option",{value:"HORROR"},"Horror"),l.a.createElement("option",{value:"ADVENTURE"},"Adventure"),l.a.createElement("option",{value:"STRATEGY"},"Strategy"),l.a.createElement("option",{value:"FIGHTING"},"Fighting"),l.a.createElement("option",{value:"SPORTS"},"Sports"))),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Location"),l.a.createElement(ee,{getData:function(t){return e.getData(t)}})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Image (jpg or png)"),l.a.createElement(w.a.Control,{name:"imageEvent",type:"file",onChange:this.handleFileUpload})),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit"))))}}]),a}(n.Component)),ae=(a(162),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){return e.updateEventList()},e.updateEventList=function(){e.eventService.getAllEvent().then((function(t){return e.setState({events:t.data})})).catch((function(e){return console.log(e)}))},e.handleModal=function(t,a){e.setState({showModal:t}),e.setState({id:a})},e.handleEventSubmit=function(){e.handleModal(!1),e.updateEventList()},e.handleDelete=function(t){var a=Object(A.a)(e.state.events).filter((function(e){return e._id!==t}));e.setState({events:a}),e.eventService.deleteEvent(t).then((function(e){return console.log(e)}))},e.state={events:void 0,showModal:!1,id:""},e.eventService=new K,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null,l.a.createElement("h1",null,"Event List"),this.props.loggedInUser&&l.a.createElement(v.a,{onClick:function(){return e.handleModal(!0)},variant:"dark",size:"sm",style:{marginBottom:"20px"}},"Create new event"),this.state.events&&this.state.events.map((function(t){return l.a.createElement(Z,{key:t._id,elm:t,handleModal:e.handleModal,handleDelete:e.handleDelete,loggedInUser:e.props.loggedInUser,className:"event-detail-card"})}))),l.a.createElement(Y.a,{size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},l.a.createElement(Y.a.Body,{className:"modal-page-event"},this.state.id?l.a.createElement(te,{handleEventSubmit:this.handleEventSubmit,id:this.state.id}):l.a.createElement(te,{handleEventSubmit:this.handleEventSubmit}))))}}]),a}(n.Component)),ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(N.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault(),n.eventService.createComment(n.props.id,n.state).then((function(e){return console.log(e)})).then(n.props.handleModal(!1)).then((function(){return n.props.handleEventSubmit()})).catch((function(e){return console.log(e)}))},n.state={comments:"",commentsUser:""},n.eventService=new K,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w.a,{onSubmit:this.handleFormSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"User"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,name:"commentsUser",value:this.state.commentsUser,size:"lg",type:"text"}),l.a.createElement(w.a.Label,null,"Post your comment"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,name:"comments",value:this.state.comments,size:"lg",type:"text"}),l.a.createElement("p",{style:{color:"lightgrey",fontSize:16}},"Max. 140 characters"),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit "))))}}]),a}(n.Component),le=a(98),re=a.n(le);var oe=function(){return l.a.createElement("div",{className:"marker"}," ",l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/743/743935.svg",alt:"Marker icon",style:{width:60}})," ")},ce=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={lat:40.4167754,lng:-3.7037901999999576},n.state={},n}return Object(i.a)(a,[{key:"handleDrag",value:function(e){console.log(e)}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"50vh",width:"100%",zIndex:0}},l.a.createElement(re.a,{bootstrapURLKeys:{key:"AIzaSyBlWqI-b9VTEh_eYPoifCNIk2nLT-e1x7U"},defaultCenter:this.props.pos&&this.props.pos,defaultZoom:this.props.zoom,options:{styles:[{elementType:"geometry",stylers:[{color:"#1d2c4d"}]},{elementType:"labels.text.fill",stylers:[{color:"#8ec3b9"}]},{elementType:"labels.text.stroke",stylers:[{color:"#1a3646"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#64779e"}]},{featureType:"administrative.province",elementType:"geometry.stroke",stylers:[{color:"#4b6878"}]},{featureType:"landscape.man_made",elementType:"geometry.stroke",stylers:[{color:"#334e87"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#023e58"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#283d6a"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#6f9ba5"}]},{featureType:"poi",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#023e58"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#3C7680"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#304a7d"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#2c6675"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#255763"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#b0d5ce"}]},{featureType:"road.highway",elementType:"labels.text.stroke",stylers:[{color:"#023e58"}]},{featureType:"transit",elementType:"labels.text.fill",stylers:[{color:"#98a5be"}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{color:"#1d2c4d"}]},{featureType:"transit.line",elementType:"geometry.fill",stylers:[{color:"#283d6a"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#3a4762"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#0e1626"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#4e6d70"}]}]},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){e.map,e.maps}},this.props.marker&&l.a.createElement(oe,{lat:this.props.pos.coordinates,lng:this.props.pos.coordinates,draggable:!1,text:"Gamer Event"})))}}]),a}(n.Component);ce.defaultProps={center:{lat:40.4167754,lng:-3.7037901999999576},zoom:17};a(182);var se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).componentDidMount=function(){return e.updateEventList()},e.updateEventList=function(){var t=e.props.match.params.id;e.eventService.getOneEvent(t).then((function(t){return e.setState({eventDetails:t.data})})).catch((function(e){return console.log(e)}))},e.handleEventSubmit=function(){e.updateEventList()},e.handleFav=function(){e.profileService.addFavEvent(e.props.match.params.id,e.props.loggedInUser).then((function(e){return console.log(e)}))},e.handleDeleteFav=function(){e.profileService.deleteFavEvent(e.props.match.params.id,e.props.loggedInUser).then((function(e){return console.log(e)}))},e.handleDeleteComment=function(){e.eventService.deleteComment(e.props.match.params.id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),e.updateEventList()},e.handleModal=function(t){e.setState({showModal:t})},e.state={eventDetails:"",showModal:!1},e.eventService=new K,e.profileService=new G,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,{style:{textDecoration:"none"},to:"/events"},l.a.createElement(v.a,{className:"btn-default"},"\u27f5")),l.a.createElement(g.a,{className:"event-detail-page"},this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:this.handleFav},"Join Event"),this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:this.handleDeleteFav},"Unjoin Event"),l.a.createElement(p.a,{className:"event-title"},l.a.createElement("h1",null,this.state.eventDetails.title)),l.a.createElement(p.a,null,l.a.createElement(E.a,{md:6},l.a.createElement("img",{src:this.state.eventDetails.imageEvent,alt:this.state.eventDetails.title})),l.a.createElement(E.a,{md:6},l.a.createElement("p",null,l.a.createElement("b",null,"Genre: "),this.state.eventDetails.genre),l.a.createElement("p",null,l.a.createElement("b",null,"Location: "),this.state.eventDetails.locationName),l.a.createElement("p",null,"Event Date: ",new Date(this.state.eventDetails.eventDate).toLocaleDateString()))),l.a.createElement(p.a,null,l.a.createElement(E.a,{className:"event-description"},l.a.createElement("p",null,this.state.eventDetails.description))),l.a.createElement(p.a,null,l.a.createElement(E.a,{md:5},this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:function(){return e.handleModal(!0)}},"Insert Comment"),this.props.loggedInUser&&l.a.createElement(v.a,{className:"btn btn-dark btn-md",onClick:this.handleDeleteComment},"Delete comment")),l.a.createElement(E.a,{md:6},l.a.createElement(V.a,{striped:!0,bordered:!0,variant:"dark",className:"comments-table"},l.a.createElement("thead",null,l.a.createElement("th",null,"User"),l.a.createElement("th",null,"Comments")),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,this.state.eventDetails&&this.state.eventDetails.commentsUser.map((function(e){return l.a.createElement("p",null,e,":")}))),l.a.createElement("td",null,this.state.eventDetails&&this.state.eventDetails.comments.map((function(e){return l.a.createElement("p",null,e)})))))))),l.a.createElement(Y.a,{dialogClassName:"modal-window",size:"lg",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},l.a.createElement(Y.a.Body,{className:"modal-page"},l.a.createElement(ne,{id:this.props.match.params.id,handleEventSubmit:this.handleEventSubmit,handleModal:function(){return e.handleModal()}}))),this.state.eventDetails&&l.a.createElement(ce,{pos:this.state.eventDetails.loc.coordinates,marker:!0})))}}]),a}(n.Component),ie=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null,l.a.createElement("h1",null,"We gamers, you feel?"),l.a.createElement("p",null,"Cut the crap..."),e.loggedInUser?l.a.createElement("h3",null,"Welcome ",e.loggedInUser.username):l.a.createElement(l.a.Fragment,null,l.a.createElement(h.b,null,l.a.createElement("div",{className:"links"},l.a.createElement(h.b,{to:"/signup",style:{textDecoration:"none"},activeStyle:{color:"white"}},"Signup"))),l.a.createElement(h.b,null,l.a.createElement("div",{className:"links"},l.a.createElement(h.b,{to:"/login",style:{textDecoration:"none"},activeStyle:{color:"white"}},"Login"))))))},me=function e(){var t=this;Object(s.a)(this,e),this.login=function(e){return t.service.post("/login",e)},this.signup=function(e){return t.service.post("/signup",e)},this.logout=function(){return t.service.post("/logout")},this.isLoggedIn=function(){return t.service.get("/loggedin")},this.service=y.a.create({baseURL:"https://gamers-essential2.herokuapp.com/api",withCredentials:!0})},ue=(a(183),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(N.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.signup(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"Signup completed"),n.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={username:"",password:""},n.authService=new me,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(g.a,{as:"main"},l.a.createElement(p.a,null,l.a.createElement(E.a,{md:{offset:3,span:6},className:"signup"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/2878/2878741.svg",alt:""}),l.a.createElement("h3",null,"Sign Up"),l.a.createElement(w.a,{onSubmit:this.handleFormSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Username"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Password"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),l.a.createElement(w.a.Text,{className:"text-muted"},"Minimum 3 characters...")),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit")))))}}]),a}(n.Component)),de=(a(184),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,l=t.value;n.setState(Object(N.a)({},a,l))},n.handleFormSubmit=function(e){e.preventDefault(),n.authService.login(n.state).then((function(e){n.props.setTheUser(e.data),n.props.handleToast(!0,"Logged in"),n.props.history.push("/")})).catch((function(e){return console.log(e.response.data.message)}))},n.state={username:"",password:""},n.authService=new me,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(g.a,{as:"main"},l.a.createElement(p.a,null,l.a.createElement(E.a,{md:{offset:3,span:6},className:"login"},l.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/2943/2943415.svg",alt:""}),l.a.createElement("h3",null,"Log In"),l.a.createElement(w.a,{onSubmit:this.handleFormSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Username"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,value:this.state.username,name:"username",type:"text"})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Password"),l.a.createElement(w.a.Control,{onChange:this.handleInputChange,value:this.state.password,name:"password",type:"password"}),l.a.createElement(w.a.Text,{className:"text-muted"},"Minimum 3 characters...")),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Log In")))))}}]),a}(n.Component)),he=(a(59),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleDeleteFav=function(){e.profileService.deleteFavGame(e.props.elm.data.id,e.props.loggedInUser).then((function(e){return console.log(e)})).then(e.props.updateFavGames()).catch((function(e){return console.log(e)}))},e.state={},e.profileService=new G,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,{md:3,sm:4,xs:5},l.a.createElement("div",{className:"game-card profGame"},l.a.createElement(h.b,{to:"/games/".concat(this.props.elm.data.id),style:{textDecoration:"none"}},l.a.createElement("img",{src:this.props.elm.data.background_image,alt:this.props.elm.data.name}),l.a.createElement("p",null,this.props.elm.data.name)),l.a.createElement(v.a,{onClick:function(){return e.handleDeleteFav()}},"Remove"))))}}]),a}(n.Component)),pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleFileUpload=function(e){var t=new FormData;t.append("avatar",e.target.files[0]),n.filesService.handleUploadAvatar(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),n.setState({avatar:e.data.secure_url},(function(){return console.log(n.state.avatar)}))})).catch((function(e){return console.log(e)}))},n.handleUpdateSubmit=function(e){e.preventDefault(),n.profileService.updateAvatar(n.props.loggedInUser._id,n.state).then(n.props.handleAvatarSubmit()).then(n.props.updateCommunityList()).catch((function(e){return console.log(e)}))},n.state={},n.profileService=new G,n.filesService=new H,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"holaaaaa"),l.a.createElement(w.a,{onSubmit:this.handleUpdateSubmit},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Image (jpg or png)"),l.a.createElement(w.a.Control,{name:"imageEvent",type:"file",onChange:this.handleFileUpload})),l.a.createElement(v.a,{variant:"dark",type:"submit"},"Submit")))}}]),a}(n.Component),ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDeleteFav=function(){n.profileService.deleteFavCommunity(n.props.elm._id,n.props.loggedInUser).then((function(e){return console.log(e)})).then(n.props.updateCommunityList()).catch((function(e){return console.log(e)}))},n.state={},n.profileService=new G,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"community-card"},l.a.createElement(p.a,null,l.a.createElement(h.b,{to:"/community/".concat(this.props.elm._id)},l.a.createElement("img",{src:this.props.elm.imageProd,alt:this.props.elm._id}))),l.a.createElement(p.a,null,l.a.createElement(h.b,{to:"/community/".concat(this.props.elm._id),style:{textDecoration:"none"}},l.a.createElement("div",{className:"community-card-body"},l.a.createElement("h3",null,this.props.elm.title),l.a.createElement("p",null,this.props.elm.brief),l.a.createElement("ul",{className:"community-card-text"},l.a.createElement("li",null,"Genre: ",this.props.elm.genre),l.a.createElement("li",null,"Owner: ",this.props.elm.owner.username))))),l.a.createElement(v.a,{onClick:function(){return e.handleDeleteFav()}},"Remove")))}}]),a}(n.Component),Ee=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDeleteFav=function(){n.profileService.deleteFavEvent(n.props.elm._id,n.props.loggedInUser).then((function(e){return console.log(e)})).then(n.props.updateCommunityList()).catch((function(e){return console.log(e)}))},n.state={},n.profileService=new G,n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,{className:"event-detail-card text-center"},l.a.createElement(E.a,{className:"event-detail-img",lg:3},l.a.createElement(h.b,{to:"/events/".concat(this.props.elm._id)},l.a.createElement("img",{src:this.props.elm.imageEvent,alt:this.props.elm._id}))),l.a.createElement(E.a,{lg:5},l.a.createElement(h.b,{to:"/events/".concat(this.props.elm._id),style:{textDecoration:"none",color:"white"}},l.a.createElement("h5",null,this.props.elm.title),l.a.createElement("p",null,this.props.elm.brief))),l.a.createElement(E.a,{clasName:"text-center",lg:3},l.a.createElement(h.b,{to:"/events/".concat(this.props.elm._id),style:{textDecoration:"none",color:"white"}},l.a.createElement("p",null,"Owner:",this.props.elm.owner.username),l.a.createElement("p",null,"Genre:",this.props.elm.genre),l.a.createElement("p",null,"Location:",this.props.elm.locationName),l.a.createElement("p",null,"Event Date:",new Date(this.props.elm.eventDate).toLocaleDateString()))),l.a.createElement(E.a,{lg:1},l.a.createElement(v.a,{onClick:function(){return e.handleDeleteFav()}},"Remove"))))}}]),a}(n.Component),ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).updateCommunityList=function(){e.profileService.getAllProfile(e.props.loggedInUser._id).then((function(t){return e.setState({allProfile:t.data})})).catch((function(e){return console.log(e)}))},e.updateFavGames=function(){var t=e.gameService.getOneGame(e.props.loggedInUser.favGame[0]),a=e.gameService.getOneGame(e.props.loggedInUser.favGame[1]),n=e.gameService.getOneGame(e.props.loggedInUser.favGame[2]),l=e.gameService.getOneGame(e.props.loggedInUser.favGame[3]),r=e.gameService.getOneGame(e.props.loggedInUser.favGame[4]);Promise.all([t,a,n,l,r]).then((function(t){return e.setState({gameDetails:t})}))},e.handleModal=function(t){e.setState({showModal:t})},e.handleAvatarSubmit=function(){e.handleModal(!1),e.updateCommunityList()},e.state={allProfile:void 0,gameDetails:void 0,showModal:!1},e.profileService=new G,e.gameService=new C,e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.updateCommunityList(),this.updateFavGames()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null,l.a.createElement("section",null,l.a.createElement(Y.a,{size:"md",show:this.state.showModal,onHide:function(){return e.handleModal(!1)}},l.a.createElement(Y.a.Body,null,l.a.createElement(pe,{handleAvatarSubmit:function(){return e.handleAvatarSubmit()},loggedInUser:this.props.loggedInUser,updateCommunityList:function(){return e.updateCommunityList}}))),l.a.createElement("article",{className:"profile-section"},l.a.createElement(p.a,null,l.a.createElement(E.a,{className:"profile-pic",md:3},l.a.createElement("img",{src:this.state.allProfile&&this.state.allProfile.avatar,alt:this.props.loggedInUser.username})," ",l.a.createElement("br",null),l.a.createElement(v.a,{onClick:function(){return e.handleModal(!0)},variant:"dark",size:"xs",style:{width:150}},"Upload new avatar")),l.a.createElement(E.a,{md:8},l.a.createElement("h3",null,"\xa1Hi ",this.props.loggedInUser.username,", nice to see you again!")))),l.a.createElement("article",{className:"community-section"},l.a.createElement("h2",null,"Favourite Community"),l.a.createElement(p.a,null,this.state.allProfile&&this.state.allProfile.favCommunity.map((function(t){return l.a.createElement(ge,{key:t._id,elm:t,loggedInUser:e.props.loggedInUser,updateCommunityList:function(){return e.updateCommunityList}})})))),l.a.createElement("hr",null),l.a.createElement("article",null,l.a.createElement("h2",null," Favourite Events"),l.a.createElement(p.a,null,this.state.allProfile&&this.state.allProfile.favEvent.map((function(t){return l.a.createElement(Ee,{key:t._id,elm:t,loggedInUser:e.props.loggedInUser,updateCommunityList:function(){return e.updateCommunityList}})})))),l.a.createElement("hr",null),l.a.createElement("article",null,l.a.createElement("h2",null,"Favourite Games"),l.a.createElement(p.a,null,this.state.gameDetails&&this.state.gameDetails.map((function(t){return l.a.createElement(he,{key:t.data.id,elm:t,loggedInUser:e.props.loggedInUser,updateFavGames:function(){return e.updateFavGames}})})))))))}}]),a}(n.Component),fe=(a(185),a(44)),be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).logout=function(){n.AuthService.logout().then((function(){n.props.setTheUser(!1),n.props.handleToast(!0,"User disconnected")})).catch((function(e){return console.log(e)}))},n.AuthService=new me,n}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement(fe.a,{expand:"lg",sticky:"top",className:"navbar-main"},l.a.createElement(fe.a.Brand,null,l.a.createElement(h.b,{to:"/",style:{textDecoration:"none"}},l.a.createElement("div",{className:"nav-title"},"_GamersEssential"))),l.a.createElement(fe.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"navbar-toggle"}),l.a.createElement(fe.a.Collapse,null,l.a.createElement(P.a,{className:"ml-auto"},l.a.createElement(P.a.Link,{as:"span"},l.a.createElement("div",{className:"links"},l.a.createElement(h.c,{to:"/",style:{textDecoration:"none"},exact:!0,activeStyle:{color:"white"}},"/"))),l.a.createElement(P.a.Link,{as:"span"},l.a.createElement("div",{className:"links"},l.a.createElement(h.c,{to:"/games",style:{textDecoration:"none"},activeStyle:{color:"white"}},l.a.createElement("div",null,"Games")))),l.a.createElement(P.a.Link,{as:"span"},l.a.createElement("div",{className:"links"},l.a.createElement(h.c,{to:"/community",style:{textDecoration:"none"},activeStyle:{color:"white"}},"Community"))),l.a.createElement(P.a.Link,{as:"span"},l.a.createElement("div",{className:"links"},l.a.createElement(h.c,{to:"/events",style:{textDecoration:"none"},activeStyle:{color:"white"}},"Events"))),this.props.loggedInUser?l.a.createElement(P.a.Link,{as:"span",style:{textDecoration:"none"}},l.a.createElement("div",{className:"links"},l.a.createElement("span",{onClick:this.logout,className:"logout"},l.a.createElement("div",null,l.a.createElement("img",{src:"../../../log.svg",alt:"off"}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a.Link,{as:"span"},l.a.createElement("div",{className:"links"},l.a.createElement(h.c,{to:"/signup",style:{textDecoration:"none"},activeStyle:{color:"white"}},"Signup"))),l.a.createElement(P.a.Link,{as:"span"},l.a.createElement("div",{className:"links"},l.a.createElement(h.c,{to:"/login",style:{textDecoration:"none"},activeStyle:{color:"white"}},"Login")))),l.a.createElement(P.a.Link,{as:"span"},l.a.createElement(h.c,{to:"/profile",style:{textDecoration:"none"},activeStyle:{color:"white"},className:"link-profile"},"Hi, ",this.props.loggedInUser?this.props.loggedInUser.username:"guest")))))}}]),a}(n.Component),ye=(a(186),a(57)),Ce=function(e){var t=e.visible,a=e.text,n=e.handleToast;return l.a.createElement(ye.a,{style:{position:"fixed",right:"50px",bottom:"50px",width:"300px"},show:t,onClose:function(){return n(!1)},delay:3e3,autohide:!0},l.a.createElement(ye.a.Header,{className:"header-toast"}," ",l.a.createElement("strong",{className:"mr-auto"},"Gamers Essential")," "),l.a.createElement(ye.a.Body,{className:"body-toast"},a))},Se=(a(187),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.AuthService.isLoggedIn().then((function(t){return null===e.state.loggedInUser&&e.setState({loggedInUser:t.data})}))},e.handleToast=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object(c.a)({},e.state.toast);n={visible:t,text:a},e.setState({toast:n})},e.state={loggedInUser:null,toast:!1},e.AuthService=new me,e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.fetchUser(),l.a.createElement(l.a.Fragment,null,l.a.createElement(be,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser,handleToast:this.handleToast}),l.a.createElement(d.d,null,l.a.createElement(d.b,{exact:!0,path:"/",render:function(){return l.a.createElement(ie,{loggedInUser:e.state.loggedInUser})}}),l.a.createElement(d.b,{path:"/profile",render:function(){return e.state.loggedInUser?l.a.createElement(ve,{loggedInUser:e.state.loggedInUser}):l.a.createElement(d.a,{to:"/signup"})}}),l.a.createElement(d.b,{exact:!0,path:"/community",render:function(){return l.a.createElement(W,{loggedInUser:e.state.loggedInUser,handleToast:e.handleToast})}}),l.a.createElement(d.b,{path:"/community/:id",render:function(t){return l.a.createElement(q,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(d.b,{exact:!0,path:"/games",render:function(){return l.a.createElement(f,{loggedInUser:e.state.loggedInUser})}}),l.a.createElement(d.b,{exact:!0,path:"/games/allGames",render:function(){return l.a.createElement(U,null)}}),l.a.createElement(d.b,{exact:!0,path:"/games/genres",render:function(){return l.a.createElement(B,null)}}),l.a.createElement(d.b,{exact:!0,path:"/games/platforms",render:function(){return l.a.createElement(M,null)}}),l.a.createElement(d.b,{exact:!0,path:"/games/:id",render:function(t){return l.a.createElement(F,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(d.b,{exact:!0,path:"/events",render:function(){return l.a.createElement(ae,{loggedInUser:e.state.loggedInUser})}}),l.a.createElement(d.b,{path:"/events/:id",render:function(t){return l.a.createElement(se,Object.assign({loggedInUser:e.state.loggedInUser},t))}}),l.a.createElement(d.b,{path:"/signup",render:function(t){return l.a.createElement(ue,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}}),l.a.createElement(d.b,{path:"/login",render:function(t){return l.a.createElement(de,Object.assign({},t,{setTheUser:e.setTheUser,handleToast:e.handleToast}))}})),l.a.createElement(Ce,Object.assign({},this.state.toast,{handleToast:this.handleToast})))}}]),a}(n.Component));o.a.render(l.a.createElement(h.a,null,l.a.createElement(l.a.StrictMode,null,l.a.createElement(Se,null))),document.getElementById("root"))},45:function(e,t,a){},59:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},99:function(e,t,a){e.exports=a(188)}},[[99,1,2]]]);
//# sourceMappingURL=main.f8ef5ad5.chunk.js.map